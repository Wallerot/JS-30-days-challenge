<!DOCTYPE html>
<html lang="pl-PL">
  <head>
    <meta charset="utf-8">
    <title>Drumkit</title>
    <link href="style.css" type="text/css" rel="stylesheet">
<script src="script.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="keys">
    <div data-key="65" class="key">
      <kbd>A</kbd>
      <span class="sound">Boom</span>
    </div>
    <div data-key="83" class="key">
      <kbd>S</kbd>
      <span class="sound">Clap</span>
    </div>
    <div data-key="68" class="key">
      <kbd>D</kbd>
      <span class="sound">HiHat</span>
    </div>
    <div data-key="70" class="key">
      <kbd>D</kbd>
      <span class="sound">Kick</span>
    </div>
    <div data-key="71" class="key">
      <kbd>G</kbd>
      <span class="sound">OpenHat</span>
    </div>
    <div data-key="72" class="key">
      <kbd>H</kbd>
      <span class="sound">Ride</span>
    </div>
    <div data-key="74" class="key">
      <kbd>J</kbd>
      <span class="sound">Snare</span>
    </div>
    <div data-key="75" class="key">
      <kbd>K</kbd>
      <span class="sound">Tink</span>
    </div>
    <div data-key="76" class="key">
      <kbd>L</kbd>
      <span class="sound">Tom</span>
    </div>
</div>
<div class="keys">
<div data-key="87" class="key">
  <kbd>W</kbd>
  <span class="sound">Bonus</span>
</div>
<div data-key="69" class="key">
  <kbd>E</kbd>
  <span class="sound">Flute Trill</span>
</div>
<div data-key="82" class="key">
  <kbd>R</kbd>
  <span class="sound">Flute Solo</span>
</div>
<div data-key="84" class="key">
  <kbd>T</kbd>
  <span class="sound">Flute S Dance</span>
</div>

</div>
    <audio data-key="65" src="sounds/boom.wav"></audio>
    <audio data-key="83" src="sounds/clap.wav"></audio>
    <audio data-key="68" src="sounds/hihat.wav"></audio>
    <audio data-key="70" src="sounds/kick.wav"></audio>
    <audio data-key="71" src="sounds/openhat.wav"></audio>
    <audio data-key="72" src="sounds/ride.wav"></audio>
    <audio data-key="74" src="sounds/snare.wav"></audio>
    <audio data-key="75" src="sounds/tink.wav"></audio>
    <audio data-key="76" src="sounds/tom.wav"></audio>
    <audio data-key="87" src="sounds/Wonziu.mp3"></audio>
    <audio data-key="69" src="sounds/flute-trill.wav"></audio>
    <audio data-key="82" src="sounds/flute3.wav"></audio>
    <audio data-key="84" src="sounds/flutedance3.wav"></audio>

<script>

function playSound(e) {
  const audio = document.querySelector('audio[data-key="'+e.keyCode+'"]');
  const key = document.querySelector('.key[data-key="'+e.keyCode+'"]');
  if(!audio) return;
  audio.currentTime = 0; //on click immidiately rewind to the start of audio
  audio.play();
  key.classList.add('playing');
}

function removeTransition(e) {
  if (e.propertyName !== 'transform') return;
  this.classList.remove('playing');
}

const keys = document.querySelectorAll('.key');
keys.forEach(key => key.addEventListener('transitionend', removeTransition));
window.addEventListener('keydown', playSound);
</script>
  </body>
</html>
